---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "nios_dtc_lbdn Resource - nios"
subcategory: "DTC"
description: |-
  Manages DTC Load Balanced Domain Name (LBDN)
---

# nios_dtc_lbdn (Resource)

Manages DTC Load Balanced Domain Name (LBDN)

## Example Usage

```terraform
// Create DTC LBDN with basic fields
resource "nios_dtc_lbdn" "lbdn_basic_fields" {
  name      = "example_lbdn_1"
  lb_method = "SOURCE_IP_HASH"
  types     = ["A", "CNAME"]
}

// Authoritative DNS zone in the default view with a grid primary association
resource "nios_dns_zone_auth" "parent_zone" {
  fqdn = "wapi.com"
  view = "default"
  grid_primary = [
    {
      name = "infoblox.localdomain",
    }
  ]
}

// Create a custom DNS view
resource "nios_dns_view" "custom_view1" {
  name = "custom_view"
}

// Authoritative DNS zone in the custom view with a grid primary association
resource "nios_dns_zone_auth" "parent_zone2" {
  fqdn = "info.com"
  view = nios_dns_view.custom_view1.name
  grid_primary = [
    {
      name = "infoblox.localdomain",
    }
  ]
}

// Define the DTC pools for LBDN association
resource "nios_dtc_pool" "dtc_pool1" {
  name                = "pool2"
  lb_preferred_method = "ROUND_ROBIN"
}

resource "nios_dtc_pool" "dtc_pool2" {
  name                = "pool4"
  lb_preferred_method = "ROUND_ROBIN"
}

resource "nios_dtc_pool" "dtc_pool3" {
  name                = "pool6"
  lb_preferred_method = "ROUND_ROBIN"
}

// Create DTC LBDN with additional fields
resource "nios_dtc_lbdn" "lbdn_additional_fields" {
  name = "example_lbdn_2"
  // Reference both parent zones using their resource references
  auth_zones = [nios_dns_zone_auth.parent_zone.ref,
    nios_dns_zone_auth.parent_zone2.ref
  ]
  comment = "lbdn with additional parameters"
  extattrs = {
    Site = "location-1"
  }
  lb_method = "ROUND_ROBIN"
  patterns  = ["*wapi.com", "info.com*"]
  pools = [
    {
      pool  = nios_dtc_pool.dtc_pool1.ref
      ratio = 2
    },
    {
      pool  = nios_dtc_pool.dtc_pool2.ref
      ratio = 3
    },
    {
      pool  = nios_dtc_pool.dtc_pool3.ref
      ratio = 6
    }
  ]
  ttl         = 0
  use_ttl     = false
  disable     = true
  types       = ["A", "CNAME"]
  persistence = 100
  priority    = 1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `lb_method` (String) The load balancing method. Used to select pool.
- `name` (String) The display name of the DTC LBDN, not DNS related.

### Optional

- `auth_zones` (List of String) List of linked auth zones.
- `auto_consolidated_monitors` (Boolean) Flag for enabling auto managing DTC Consolidated Monitors on related DTC Pools.
- `comment` (String) Comment for the DTC LBDN; maximum 256 characters.
- `disable` (Boolean) Determines whether the DTC LBDN is disabled or not. When this is set to False, the fixed address is enabled.
- `extattrs` (Map of String) Extensible attributes associated with the object.
- `patterns` (List of String) LBDN wildcards for pattern match.
- `persistence` (Number) Maximum time, in seconds, for which client specific LBDN responses will be cached. Zero specifies no caching.
- `pools` (Attributes List) The maximum time, in seconds, for which client specific LBDN responses will be cached. Zero specifies no caching. (see [below for nested schema](#nestedatt--pools))
- `priority` (Number) The LBDN pattern match priority for "overlapping" DTC LBDN objects. LBDNs are "overlapping" if they are simultaneously assigned to a zone and have patterns that can match the same FQDN. The matching LBDN with highest priority (lowest ordinal) will be used.
- `topology` (String) The topology rules for TOPOLOGY method.
- `ttl` (Number) Time-to-live value of the record, in seconds.
- `types` (List of String) The list of resource record types supported by LBDN.
- `use_ttl` (Boolean) Flag to indicate whether the TTL value should be used for the LBDN record.

### Read-Only

- `extattrs_all` (Map of String) Extensible attributes associated with the object , including default attributes.
- `health` (Attributes) The LBDN health information. (see [below for nested schema](#nestedatt--health))
- `ref` (String) The reference to the object.

<a id="nestedatt--pools"></a>
### Nested Schema for `pools`

Optional:

- `pool` (String) The pool to link with.
- `ratio` (Number) The weight of pool.


<a id="nestedatt--health"></a>
### Nested Schema for `health`

Read-Only:

- `availability` (String) The availability color status.
- `description` (String) The textual description of the object's status.
- `enabled_state` (String) The enabled state of the object.
