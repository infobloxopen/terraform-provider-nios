---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "nios_notification_rule Resource - nios"
subcategory: "NOTIFICATION"
description: |-
  Manages a Notification Rule.
---

# nios_notification_rule (Resource)

Manages a Notification Rule.

## Example Usage

```terraform
// Create a Notification Rest Endpoint ( Required as parent)
resource "nios_notification_rest_endpoint" "notification_rest_parent" {
  name                 = "example-notification-rest-endpoint-1"
  outbound_member_type = "GM"
  uri                  = "https://example.com"
}

// Create a Notification Rule with Basic Fields (Event Type : DHCP_LEASES)
resource "nios_notification_rule" "notification_rule_with_basic_fields" {
  name                = "example_notification_rule"
  notification_target = nios_notification_rest_endpoint.notification_rest_parent.ref
  event_type          = "DHCP_LEASES"
  notification_action = "RESTAPI_TEMPLATE_INSTANCE"

  expression_list = [
    {
      op       = "AND"
      op1_type = "LIST"
    },
    {
      op       = "EQ"
      op1      = "DHCP_LEASE_STATE"
      op1_type = "FIELD"
      op2      = "DHCP_LEASE_STATE_ACTIVE"
      op2_type = "STRING"
    },
    {
      op = "ENDLIST"
    }
  ]
  template_instance = {
    template = "DHCP_Lease"
  }
}

// Create a Notification Rule with Additional Fields
resource "nios_notification_rule" "notification_rule_with_additional_fields" {
  name                = "example_notification_rule-1"
  notification_target = nios_notification_rest_endpoint.notification_rest_parent.ref
  event_type          = "DHCP_LEASES"
  notification_action = "RESTAPI_TEMPLATE_INSTANCE"

  expression_list = [
    {
      op       = "AND"
      op1_type = "LIST"
    },
    {
      op       = "EQ"
      op1      = "DHCP_LEASE_STATE"
      op1_type = "FIELD"
      op2      = "DHCP_LEASE_STATE_ACTIVE"
      op2_type = "STRING"
    },
    {
      op = "ENDLIST"
    }
  ]
  template_instance = {
    template = "DHCP_Lease"
  }

  // Additional Fields
  comment = "Example Notification Rule"
  disable = true
}

// Create a Notification Rule with Basic Fields (Event Type : DNS_RPZ)
resource "nios_notification_rule" "notification_rule_with_dns_rpz" {
  name                = "example-notification-rule-2"
  notification_target = "syslog:endpoint/b25lLmVuZHBvaW50JDM:syslog"
  event_type          = "DNS_RPZ"
  notification_action = "RESTAPI_TEMPLATE_INSTANCE"

  expression_list = [
    {
      op       = "AND"
      op1_type = "LIST"
    },
    {
      op       = "EQ"
      op1      = "DNS_RPZ_TYPE"
      op1_type = "FIELD"
      op2      = "DNS_RPZ_TYPE_IP"
      op2_type = "STRING"
    },
    {
      op = "ENDLIST"
    }
  ]
  template_instance = {
    template = "syslog_action_template"
  }
}

// Create a Notification Rule with Basic Fields (Event Type : IPAM)
resource "nios_notification_rule" "notification_rule_with_ipam_event_type" {
  name                = "example-notification-rule-3"
  notification_target = "pxgrid:endpoint/b25lLmVuZHBvaW50JDU:cisco"
  event_type          = "IPAM"
  notification_action = "RESTAPI_TEMPLATE_INSTANCE"
  template_instance = {
    template = "IPAM_PxgridEvent"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `event_type` (String) The notification rule event type.
- `name` (String) The notification rule name.
- `notification_action` (String) The notification rule action is applied if expression list evaluates to True.
- `notification_target` (String) The notification target.
- `template_instance` (Attributes) The notification REST template instance. (see [below for nested schema](#nestedatt--template_instance))

### Optional

- `comment` (String) The notification rule descriptive comment.
- `disable` (Boolean) Determines whether a notification rule is disabled or not. When this is set to False, the notification rule is enabled.
- `enable_event_deduplication` (Boolean) Determines whether the notification rule for event deduplication is enabled. Note that to enable event deduplication, you must set at least one deduplication field.
- `enable_event_deduplication_log` (Boolean) Determines whether the notification rule for the event deduplication syslog is enabled.
- `event_deduplication_fields` (List of String) The list of fields that must be used in the notification rule for event deduplication.
- `event_deduplication_lookback_period` (Number) The lookback period for the notification rule for event deduplication.
- `event_priority` (String) Event priority.
- `expression_list` (Attributes List) The notification rule expression list. (see [below for nested schema](#nestedatt--expression_list))
- `publish_settings` (Attributes) The CISCO ISE publish settings. (see [below for nested schema](#nestedatt--publish_settings))
- `scheduled_event` (Attributes) Schedule setting that must be specified if event_type is SCHEDULE (see [below for nested schema](#nestedatt--scheduled_event))
- `use_publish_settings` (Boolean) Use flag for: publish_settings

### Read-Only

- `all_members` (Boolean) Determines whether the notification rule is applied on all members or not. When this is set to False, the notification rule is applied only on selected_members.
- `ref` (String) The reference to the object.
- `selected_members` (List of String) The list of the members on which the notification rule is applied. This field is deprecated.

<a id="nestedatt--template_instance"></a>
### Nested Schema for `template_instance`

Required:

- `template` (String) The name of the REST API template parameter.

Optional:

- `parameters` (Attributes List) The notification REST template parameters. (see [below for nested schema](#nestedatt--template_instance--parameters))

<a id="nestedatt--template_instance--parameters"></a>
### Nested Schema for `template_instance.parameters`

Required:

- `name` (String) The name of the REST API template parameter.

Optional:

- `syntax` (String) The syntax of the REST API template parameter.
- `value` (String) The value of the REST API template parameter.

Read-Only:

- `default_value` (String) The default value of the REST API template parameter.



<a id="nestedatt--expression_list"></a>
### Nested Schema for `expression_list`

Required:

- `op` (String) Rule expression type.

Optional:

- `op1` (String) Rule expression first operand value.
- `op1_type` (String) Rule expression first operand type.
- `op2` (String) Rule expression second operand.
- `op2_type` (String) Rule expression second operand type.


<a id="nestedatt--publish_settings"></a>
### Nested Schema for `publish_settings`

Required:

- `enabled_attributes` (List of String) The list of NIOS extensible attributes enalbed for publishsing to Cisco ISE endpoint.


<a id="nestedatt--scheduled_event"></a>
### Nested Schema for `scheduled_event`

Optional:

- `day_of_month` (Number) The day of the month for the scheduled task.
- `disable` (Boolean) If set to True, the scheduled task is disabled.
- `every` (Number) The number of frequency to wait before repeating the scheduled task.
- `frequency` (String) The frequency for the scheduled task.
- `hour_of_day` (Number) The hour of day for the scheduled task.
- `minutes_past_hour` (Number) The minutes past the hour for the scheduled task.
- `month` (Number) The month for the scheduled task.
- `repeat` (String) Indicates if the scheduled task will be repeated or run only once.
- `time_zone` (String) The time zone for the schedule.
- `weekdays` (List of String) Days of the week when scheduling is triggered.
- `year` (Number) The year for the scheduled task.

Read-Only:

- `recurring_time` (Number) The recurring time for the schedule in Epoch seconds format. This field is obsolete and is preserved only for backward compatibility purposes. Please use other applicable fields to define the recurring schedule. DO NOT use recurring_time together with these fields. If you use recurring_time with other fields to define the recurring schedule, recurring_time has priority over year, hour_of_day, and minutes_past_hour and will override the values of these fields, although it does not override month and day_of_month. In this case, the recurring time value might be different than the intended value that you define.
